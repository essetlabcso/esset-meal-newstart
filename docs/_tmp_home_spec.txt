 `n`n # ESSET MEAL Platform — Front-End Spec `n`n ## Main Home Page After Sign-in (Project Home) + Left Navigation (Core Modules) `n`n **Status:** Final / Implementation-ready `n`n **Scope:** What users see immediately after sign-in and workspace/project resolution (post `/initialize`) `n`n **Design principle:** Workflow-first, CSO-friendly labels, “do the work → prove it → learn → report” `n`n **Security principle:** Org/project scoped; Invisible Wall (no existence leaks) `n`n `n`n --- `n`n `n`n ## 1) Entry Outcome After Sign-in `n`n `n`n After successful sign-in and membership resolution: `n`n `n`n ### 1.1 Routing rules `n`n - If user has **1 active workspace and 1 active project (persisted)** → route to: `n`n - `/app/:orgId/projects/:projectId/home` `n`n - If user has **workspace but no active project** → route to: `n`n - `/app/:orgId/projects` (project picker / list) `n`n - If user has **multiple workspaces** → user selects workspace first (workspace picker), then proceed to project selection. `n`n - If user tries to access a project/org they don’t belong to → **404 Not Found** (no “forbidden”). `n`n `n`n ### 1.2 “Home” definition `n`n - The “Home Page” is the **Project Home** dashboard (not a marketing landing page). `n`n - It is the **operational command center** for the active project: `n`n - shows progress across modules, `n`n - highlights what’s blocked, `n`n - provides the fastest “next actions”. `n`n `n`n --- `n`n `n`n ## 2) Global App Shell (Always Visible On Project Home) `n`n `n`n ### 2.1 Top Context Bar (Level 0) `n`n Always visible at top across project pages: `n`n `n`n **Left** `n`n - Workspace Selector (dropdown) `n`n - shows workspace name + role pill (owner/editor/contributor/viewer) `n`n - only active memberships appear `n`n - Project Selector (dropdown) `n`n - search + recent projects list `n`n `n`n **Center (optional, recommended)** `n`n - “Active Reporting Period” chip (e.g., `2026 Q1`) with quick switch `n`n - Status chips: `Draft`, `Published`, `Safe Mode` (if enabled) `n`n `n`n **Right** `n`n - Alerts bell (data quality, upcoming deadlines, pending approvals) `n`n - Help (contextual) `n`n - User menu (profile, sign out) `n`n `n`n --- `n`n `n`n ## 3) Left Side Navigation (Canonical Workflow Modules) `n`n `n`n ### 3.1 Naming style `n`n - Use **action-oriented, plain words**. `n`n - Avoid technical labels like “logframe” in the menu (can exist inside the module as a view). `n`n `n`n ### 3.2 Recommended final menu order (workflow aligned) `n`n 1) **Home** `n`n 2) **Analyze** `n`n 3) **Strategy** `n`n 4) **Plan (MEAL)** `n`n 5) **Collect (Evidence)** `n`n 6) **Learn & Decide** `n`n 7) **Reports** `n`n 8) *(optional, phase-gated)* **Analytics** `n`n `n`n ### 3.3 Menu structure + sub-items (implementation contract) `n`n `n`n #### 1) HOME `n`n - **Dashboard** (default landing) `n`n - **Project Charter** (purpose, scope, partners, mandate) `n`n - **Project Settings** (metadata, roles, aggregation defaults, safe-mode defaults) `n`n `n`n #### 2) ANALYZE `n`n (Upstream context analysis) `n`n - **Context & Drivers** (problem framing, political economy/policy factors) `n`n - **Stakeholders & Power** (mapping, influence, alliances, conflict sensitivity) `n`n - **Risks & Safeguarding** (risk register, mitigation, red flags) `n`n - *(optional)* **Assumptions Inputs** (if your UX prefers capturing assumptions early) `n`n `n`n #### 3) STRATEGY `n`n (ToC / Strategy Engine) `n`n - **Wizard (8 Steps)** *(state machine enforced; Step 6 locked until 1–5 complete)* `n`n - **Visual Map (Graph)** *(ToC graph with smart nodes/edges)* `n`n - **Logframe View (Matrix)** *(projection from graph; compliance view)* `n`n - **Assumptions & Mechanisms** *(edge logic registry; confidence scoring)* `n`n - **Versions** *(copy-on-write; bind to analysis snapshot)* `n`n `n`n #### 4) PLAN (MEAL) `n`n (Indicator and MEAL design layer) `n`n - **Indicators** (definitions, disaggregation schema) `n`n - **Node Mapping** (map indicators to ToC nodes) `n`n - **Baselines & Targets** (by reporting period) `n`n - **Data Collection Plan** *(optional; minimal structured plan linked to indicators)* `n`n `n`n #### 5) COLLECT (EVIDENCE) `n`n (Measurement + evidence library; offline bridge) `n`n - **Data Entry (Forms)** (indicator submissions; validations) `n`n - **Batch Imports (Offline)** (Excel upload; row-level errors) `n`n - **Evidence Library** (docs/media/notes; sensitivity/visibility) `n`n - **Stories (Qualitative)** *(boundary: evidence references, not long narrative case histories)* `n`n - **Feedback Inbox (Accountability)** (anonymous allowed; “You said → We did” notes) `n`n `n`n #### 6) LEARN & DECIDE `n`n (Learning loop + decision logging) `n`n - **Reflection Sessions** (structured learning notes) `n`n - **Decisions & Change Log** (what changed/why; references evidence + ToC impacts) `n`n - **Action Items** (owners, due dates, status) `n`n `n`n #### 7) REPORTS `n`n (Exports always snapshot-bound) `n`n - **Internal Pack** (team ops) `n`n - **Donor Pack** (compliance exports) `n`n - **Community Pack** (community-safe publishing rules) `n`n - **Exports Library** (generated files with configuration metadata) `n`n `n`n #### 8) ANALYTICS (Optional / phase-gated) `n`n (If enabled, keep it separate to avoid overwhelming) `n`n - **Performance Overview** (computed facts) `n`n - **Portfolio Rollups** (safe aggregation) `n`n - **Refresh Log** (last compute time; pipeline status) `n`n `n`n ### 3.4 Bottom utilities (always at the bottom of sidebar) `n`n - **Workspace** (switch, members, branding) *(workspace admins only)* `n`n - **Help & Guides** `n`n - **Support / Feedback** *(internal support channel; not community feedback loop)* `n`n `n`n --- `n`n `n`n ## 4) Project Home Page (Dashboard) — Layout & Content `n`n `n`n ### 4.1 Page header `n`n - **Project Name** `n`n - Subtitle line: short description (from metadata) `n`n - Chips: `n`n - Active reporting period `n`n - Strategy version status (Draft/Published) `n`n - Safe-mode status (On/Off) `n`n - Primary CTA group (right aligned): `n`n - **Quick Actions** dropdown (context-aware) `n`n - **Create / Switch Reporting Period** (if relevant) `n`n `n`n ### 4.2 Dashboard sections (cards) `n`n `n`n #### A) “Progress Map” (workflow overview) `n`n A horizontal or vertical stepper showing readiness of each core module: `n`n `n`n - Analyze `n`n - Strategy `n`n - Plan (MEAL) `n`n - Collect (Evidence) `n`n - Learn & Decide `n`n - Reports `n`n `n`n Each step shows: `n`n - **Status:** Ready / In progress / Blocked / Coming soon `n`n - **One-line reason** (especially for Blocked) `n`n - **Primary next action** button (deep link) `n`n `n`n **Example readiness rules (minimum)** `n`n - Strategy: blocked until at least one analysis baseline exists (or a linked snapshot exists) `n`n - Plan (MEAL): blocked until Strategy has at least one ToC version (draft ok) `n`n - Collect: blocked until at least one indicator exists (or import template generated) `n`n - Reports: blocked until snapshot + time window config exists (toc_version_id + reporting period) `n`n `n`n > Keep these rules deterministic and user-visible (“why it’s blocked”). `n`n `n`n #### B) “Key Deadlines & Period Status” `n`n - Active reporting period timeline (start/end) `n`n - Upcoming due dates (data submission, reflection session, report generation) `n`n - “Period health” indicator: `n`n - missing submissions count `n`n - late submissions count `n`n - unresolved data quality errors `n`n `n`n #### C) “What changed recently” `n`n Activity feed (project scoped): `n`n - Strategy version created/published `n`n - Decision logged `n`n - Evidence added (with sensitivity respected) `n`n - Imports completed (with error summary) `n`n - Role/member changes (admins only) `n`n `n`n #### D) “Data Quality & Safety” `n`n A compact panel showing: `n`n - Import errors (count + link to fix) `n`n - Validation failures (forms) `n`n - Evidence sensitivity flags (restricted items count) `n`n - Accountability items pending response (feedback inbox) `n`n `n`n #### E) “Quick Start / Next best actions” `n`n Context-aware suggestions, based on missing essentials: `n`n - “Add your stakeholders & power map” `n`n - “Create your first ToC draft” `n`n - “Define your top 5 indicators” `n`n - “Set baseline for this period” `n`n - “Upload offline template” `n`n - “Log a decision from last review meeting” `n`n Each suggestion is a one-click link into the correct screen. `n`n `n`n --- `n`n `n`n ## 5) Project Settings Access From Home (Projects Module Requirements) `n`n `n`n From Home → Project Settings, provide these tabs: `n`n `n`n ### 5.1 Project Metadata `n`n - Name, description, location/region tags `n`n - Sector/theme tags `n`n - Partner list (basic; detailed partner registry can come later) `n`n `n`n ### 5.2 Reporting Periods `n`n - Create period (quarterly/monthly/custom) `n`n - Set active period `n`n - Lock period (optional, role-based) `n`n - Period list with statuses (open/closed/draft) `n`n `n`n ### 5.3 Roles & Access (Project-scoped) `n`n - Project roles assignment (owner/editor/contributor/viewer or your project role set) `n`n - Role descriptions (plain language) `n`n - Invite project collaborators (if project-level invites are supported) `n`n `n`n ### 5.4 Defaults (must exist even if minimal) `n`n - **Aggregation defaults** `n`n - default roll-up rules (safe portfolio rollups) `n`n - **Safe-mode defaults** `n`n - sensitivity defaults for evidence `n`n - community publishing restrictions defaults `n`n `n`n --- `n`n `n`n ## 6) UX Microcopy (User-Friendly Module Labels) `n`n `n`n Use these labels in the sidebar (recommended final): `n`n - **Home** `n`n - **Analyze** `n`n - **Strategy** `n`n - **Plan (MEAL)** `n`n - **Collect (Evidence)** `n`n - **Learn & Decide** `n`n - **Reports** `n`n - **Analytics** *(optional)* `n`n `n`n Avoid or keep internal-only: `n`n - “ToC” as a top-level label (use “Strategy”) `n`n - “Logframe” as a top-level label (keep as Strategy sub-view) `n`n - “Accountability Loop” as a top-level label (keep as “Feedback Inbox” inside Collect) `n`n `n`n --- `n`n `n`n ## 7) Role-Labeled Visibility Rules (Front-End Behavior) `n`n `n`n ### 7.1 Menu visibility by role (minimum) `n`n - Viewers: `n`n - can view dashboards and reports they’re allowed to see `n`n - cannot see member management `n`n - cannot see restricted evidence `n`n - Contributors: `n`n - can submit forms / uploads where permitted `n`n - cannot publish strategy or generate donor packs unless allowed `n`n - Editors: `n`n - can draft strategy / indicators (if your policy allows) `n`n - Owners/Admins: `n`n - can manage project settings, roles, publishing, exports `n`n `n`n ### 7.2 “Invisible Wall” front-end contract `n`n - If user lacks access: `n`n - show Not Found (or empty list) `n`n - never show “you don’t have permission” `n`n - Do not render navigation items for modules the user can’t access (avoid hinting). `n`n `n`n --- `n`n `n`n ## 8) Acceptance Criteria (Home Page + Nav) `n`n `n`n ### A) Usability `n`n - User can always identify: `n`n - active workspace, active project, active reporting period `n`n - Home page clearly shows what to do next. `n`n `n`n ### B) Workflow guidance `n`n - The Progress Map accurately reflects readiness and provides actionable links. `n`n - Blocked states show a single clear reason and a fix link. `n`n `n`n ### C) Navigation `n`n - Sidebar matches the canonical modules and order in §3. `n`n - Strategy contains Wizard + Graph + Matrix + Versions and is discoverable. `n`n `n`n ### D) Security UX `n`n - Cross-org/project access attempts render as Not Found. `n`n - Restricted evidence never appears in counts/details that leak existence. `n`n `n`n --- `n`n `n`n ## 9) Implementation Notes (Front-End Only) `n`n - Build Home as a composition of stable cards; each card should degrade gracefully (loading/empty state). `n`n - Keep module labels short; place technical detail inside module screens. `n`n - Use consistent “status language” across the platform: Ready / In progress / Blocked. `n`n `n`n --- `n`n `n`n`n 
